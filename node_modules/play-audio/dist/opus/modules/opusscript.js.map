{"version":3,"file":"opusscript.js","sourceRoot":"","sources":["../../../play-audio/opus/modules/opusscript.ts"],"names":[],"mappings":";;;AAEA,MAAa,WAAW;IAGpB,YAAY,OAA2B;QACnC,MAAM,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;QACzC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;IAClE,CAAC;IAED,MAAM,CAAC,GAAW;QACd,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IAC5D,CAAC;IAED,MAAM,CAAC,GAAW;QACd,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IAED,UAAU,CAAC,GAAW,EAAE,GAAW;QAC/B,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC9B,CAAC;IAED,UAAU,CAAC,GAAW,EAAE,GAAW;QAC/B,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC9B,CAAC;IAED,MAAM;QACF,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;CACJ;AA5BD,kCA4BC","sourcesContent":["import { OpusHandlerOptions } from './constant';\n\nexport class OpusHandler {\n    protected options: OpusHandlerOptions;\n    private encoder: any;\n    constructor(options: OpusHandlerOptions) {\n        const OpusScript = require('opusscript');\n        this.options = options;\n        this.encoder = new OpusScript(options.rate, options.channels);\n    }\n\n    encode(buf: Buffer): Buffer {\n        return this.encoder.encode(buf, this.options.frameSize);\n    }\n\n    decode(buf: Buffer): Buffer {\n        return this.encoder.decode(buf);\n    }\n\n    encode_ctl(ctl: number, val: number) {\n        this.encode_ctl(ctl, val);\n    }\n\n    decode_ctl(ctl: number, val: number) {\n        this.decode_ctl(ctl, val);\n    }\n\n    delete() {\n        this.encoder.delete();\n    }\n}\n"]}